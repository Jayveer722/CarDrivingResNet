{"version":3,"sources":["index.js"],"names":["play","loaded","done","document","getElementById","innerHTML","style","display","w","window","innerWidth","h","innerHeight","nh","transform","width","height","c","ctx","getContext","loadGame","roadWidth","roadTop","roadLeft","roadConstant","score","scoreC","updateScore","ds","textContent","rso","ratio","totalRso","maxHF","Math","pow","maxH","totalHeight","minWidth","maxWidth","dif","changedHeight","cnst1","stp","tMaxH","treeCnst","gameDifficulty","TreeBuilder","src","src2","start","left","treeSrc","y","x","dy","r","prototype","draw","drawImage","random","_i","trees","n","push","floor","carWCnst","carW","carH","CarBuilder","lane","carSrc","abs","cx","clearInterval","intv","setTimeout","cars","coinW","CoinBuilder","coinSrc","coins","rectPoints","ho","y1","x1","y2","x2","y3","x3","y4","x4","beginPath","moveTo","lineTo","fillStyle","fill","closePath","lineWidth","cl","cr","car","ms","drawCar","m","setInterval","clearRect","length","err","getTouch","e","preventDefault","to","changedTouches","ty","parseInt","clientY","getTouchEnd","removeEventListener","addEventListener","getKey","keyCode","getKeyEnd","body","driveCar","accelerationIncludingGravity","DeviceMotionEvent","onload","onclick"],"mappings":"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","file":"CarDrivingPoseNetController.e31bb0bc.js","sourceRoot":"..","sourcesContent":["var play;\r\nvar loaded = false;\r\n\r\nfunction done(){\r\n    document.getElementById(\"ldc\").innerHTML=\"\";\r\n    document.getElementById(\"ldc\").style.display = \"none\";\r\n    document.getElementById(\"playBtn\").innerHTML = \"PLAY\";\r\n    loaded = true;\r\n}\r\n\r\n(function(){\r\n    var w = window.innerWidth || 360;\r\n    var h = window.innerHeight || 560;\r\n\r\n    if(h > w){\r\n        var nh = h;\r\n        h = w;\r\n        w = nh;\r\n        document.getElementById(\"mainContainer\").style.transform = \"translateX(\"+(h)+\"px) rotate(90deg)\";\r\n    }\r\n    document.getElementById(\"mainContainer\").style.width = w+\"px\";\r\n    document.getElementById(\"mainContainer\").style.height = h+\"px\";\r\n    \r\n    document.getElementById(\"city\").style.height = h*.3+\"px\";\r\n    document.getElementById(\"city\").style.width = w+\"px\";\r\n    \r\n    var c = document.getElementById(\"myCanvas\");\r\n    c.height = h;\r\n    c.width = w;\r\n    \r\n    var ctx = c.getContext(\"2d\");\r\n\r\nfunction loadGame(){\r\n    \"use strict\";\r\n    \r\n    var roadWidth = 5*w/36;\r\n    var roadTop = h-h*0.7;\r\n    var roadLeft = (w-roadWidth)/2;\r\n    var roadConstant = roadLeft/(h-roadTop);\r\n    var score = 0;\r\n    var scoreC = document.getElementById(\"score\");\r\n    function updateScore(ds){\r\n        score+=ds;\r\n        scoreC.textContent = score;\r\n    }\r\n    updateScore(0);\r\n    \r\n    var rso = [];\r\n    var ratio = 0.8;\r\n    var totalRso = 20;\r\n    var maxHF = h*(1-ratio)/(2.25*(1-Math.pow(ratio,totalRso)));\r\n    var maxH = maxHF;\r\n    var totalHeight = 0.7*h;\r\n    var minWidth = 1;\r\n    var maxWidth = 26;\r\n    var dif = maxWidth - minWidth;\r\n    var changedHeight = totalHeight-maxH*ratio;\r\n    var cnst1 = Math.pow(ratio,totalRso)/(1-ratio);\r\n    var stp = h-totalHeight;\r\n    var tMaxH = h*20/36;\r\n    var treeCnst = tMaxH/roadLeft;\r\n    \r\n    var gameDifficulty = 100;\r\n    \r\n    \r\n    \r\n    function TreeBuilder(src,src2,start,left){\r\n        this.src = treeSrc[src];\r\n        this.src2 = treeSrc[src2];\r\n        this.y = start;\r\n        this.x = 0;\r\n        this.h = 0;\r\n        this.w = 0;\r\n        this.dy = 0.01;\r\n        this.r = 1.009;\r\n        this.left = left;\r\n    }\r\n    \r\n    TreeBuilder.prototype.draw = function(){\r\n        this.y += this.dy;\r\n        this.dy *= this.r;\r\n        this.x = (h-this.y)*roadConstant - this.w - this.w*this.left;\r\n        this.h = (roadLeft-this.x-this.w*this.left)*treeCnst;\r\n        this.w = this.h*2/3;\r\n        \r\n        ctx.drawImage(this.src,this.x,this.y-this.h,this.w,this.h);\r\n        ctx.drawImage(this.src2,w-this.x-this.w,this.y-this.h,this.w,this.h);\r\n    \r\n        if(this.y >= h){\r\n            this.y = stp;\r\n            this.h = 0;\r\n            this.w = 0;\r\n            this.left = Math.random()*3;\r\n            this.dy = 0.5;\r\n        }\r\n    }\r\n    \r\n    function _i(x){\r\n        return document.getElementById(x);\r\n    }\r\n    var treeSrc = [_i(\"t1\"),_i(\"t2\"),_i(\"t3\"),_i(\"t4\")];\r\n    \r\n    var trees = [];\r\n    for(var n = 0; n < ((h*0.7)/50-2); n++){\r\n        trees.push(new TreeBuilder(Math.floor(Math.random()*4),Math.floor(Math.random()*4),stp+n*50,2));\r\n    }\r\n    \r\n    \r\n    var carWCnst = roadLeft*2/totalHeight;\r\n    var carW = (w > 560) ? 120 : 90;\r\n    var carH = carW*2/3;\r\n    \r\n    function CarBuilder(src,start,lane){\r\n        this.src = carSrc[src];\r\n        this.y = start;\r\n        this.x = 0;\r\n        this.h = 0;\r\n        this.w = 0;\r\n        this.dy = 0.5;\r\n        this.lane = lane;\r\n    }\r\n    \r\n    CarBuilder.prototype.draw = function(){\r\n        this.dy *= 1.01;\r\n        this.y += this.dy;\r\n        this.x = (carWCnst/2)*(h-this.y)+(w-(carWCnst*(h-this.y)))*this.lane/8;\r\n        this.w = carW-carW*carWCnst*(h-this.y)/w;\r\n        this.h = 1.7*this.w/3;\r\n        \r\n        ctx.drawImage(this.src,this.x,this.y-this.h,this.w,this.h);\r\n        if(this.y >= h-20){\r\n            if(Math.abs(this.x-cx) <= carH && Math.abs(this.y-h+carH) <= carH){\r\n                clearInterval(intv);\r\n                setTimeout(function(){\r\n                    document.getElementById(\"mainContainer\").style.display = \"none\";\r\n                    document.getElementById(\"startPage\").style.display = \"block\";\r\n                },1000);\r\n            }\r\n        }\r\n        if(this.y >= h+100){\r\n            this.y = stp;\r\n            this.h = 0;\r\n            this.w = 0;\r\n            this.left = Math.random()*3;\r\n            this.dy = 0.5;\r\n            this.lane = 1+Math.random()*5;\r\n        }\r\n    }\r\n    \r\n    var carSrc = [_i(\"c1\"),_i(\"c1\"),_i(\"c1\")];\r\n    \r\n    var cars = [];\r\n    for(var n = 0; n < ((h*0.7+100)/gameDifficulty); n++){\r\n        cars.push(new CarBuilder(Math.floor(Math.random()*3),stp+n*gameDifficulty,1));\r\n    }\r\n    \r\n    //Coin.....\r\n    var coinW = (w > 560) ? 75 : 60;\r\n    function CoinBuilder(start,lane){\r\n        this.src = coinSrc;\r\n        this.y = start;\r\n        this.x = 0;\r\n        this.h = 0;\r\n        this.w = 0;\r\n        this.dy = 0.5;\r\n        this.lane = lane;\r\n    }\r\n    \r\n    CoinBuilder.prototype.draw = function(){\r\n        this.dy *= 1.01;\r\n        this.y += this.dy;\r\n        this.x = (carWCnst/2)*(h-this.y)+(w-(carWCnst*(h-this.y)))*this.lane/8;\r\n        this.w = coinW-coinW*carWCnst*(h-this.y)/w;\r\n        this.h = this.w;\r\n        \r\n        ctx.drawImage(this.src,this.x,this.y-this.h,this.w,this.h);\r\n        if(this.y >= h-20){\r\n            if(Math.abs(this.x-cx) <= coinW && Math.abs(this.y-h+coinW) <= coinW){\r\n                this.y = stp;\r\n                this.h = 0;\r\n                this.w = 0;\r\n                this.left = Math.random()*3;\r\n                this.dy = 0.5;\r\n                this.lane = Math.floor(1+Math.random()*5);\r\n                updateScore(1);\r\n            }\r\n        }\r\n        if(this.y >= h+100){\r\n            this.y = stp;\r\n            this.h = 0;\r\n            this.w = 0;\r\n            this.left = Math.random()*3;\r\n            this.dy = 0.5;\r\n            this.lane = Math.floor(1+Math.random()*5);\r\n        }\r\n    }\r\n    \r\n    var coinSrc = _i(\"cn\");\r\n    \r\n    var coins = [];\r\n    for(var n = 0; n < ((h*0.7+100)/(gameDifficulty-50)); n++){\r\n        coins.push(new CoinBuilder(stp+n*(gameDifficulty-50),6));\r\n    }\r\n    \r\n    \r\n    \r\n    //End Coin...\r\n    \r\n    \r\n    \r\n    function rectPoints(n,ho){\r\n        n = totalRso-n-1;\r\n        var y1 = stp+maxH*cnst1*(Math.pow(1/ratio,n)-1);\r\n        var x1 = roadLeft-roadConstant*(y1-stp);\r\n        var y2 = y1;\r\n        var x2 = x1 + minWidth+(y1-stp)*dif/totalHeight;\r\n        var y3 = y1 + maxH*cnst1*(Math.pow(1/ratio,n+1)-1);\r\n        var x3 = roadLeft-roadConstant*(y3-stp);\r\n        var y4 = y3;\r\n        var x4 = x3 + minWidth+(y3-stp)*dif/totalHeight;\r\n        \r\n        return [x1,y1,x2,y2,x4,y4,x3,y3];\r\n    }\r\n    \r\n    \r\n    for(var n = 0; n < totalRso; n++){\r\n        rso.push(rectPoints(n,h));\r\n        rso[n][8] = (n%2==0) ? \"#000\" : \"#fff\";\r\n    }\r\n    \r\n    function draw(){\r\n        ctx.beginPath();\r\n        ctx.moveTo((w-roadWidth)/2,stp);\r\n        ctx.lineTo((w-roadWidth)/2+roadWidth,stp);\r\n        ctx.lineTo(w,h);\r\n        ctx.lineTo(0,h);\r\n        ctx.fillStyle=\"#555\";\r\n        ctx.fill();\r\n        ctx.closePath();\r\n        for(var n = 0; n < totalRso; n++){\r\n            ctx.beginPath();\r\n            ctx.moveTo(rso[n][0],rso[n][1]);\r\n            ctx.lineTo(rso[n][2],rso[n][3]);\r\n            ctx.lineTo(rso[n][4],rso[n][5]);\r\n            ctx.lineTo(rso[n][6],rso[n][7]);\r\n            ctx.lineTo(rso[n][0],rso[n][1]);\r\n            ctx.lineWidth = 2;\r\n            ctx.fillStyle = rso[n][8];//\"rgb(\"+Math.floor(Math.random()*255)+\",\"+Math.floor(Math.random()*255)+\",\"+Math.floor(Math.random()*255)+\")\";\r\n            ctx.fill();\r\n            ctx.closePath();\r\n            \r\n            ctx.beginPath();\r\n            ctx.moveTo(w-rso[n][0],rso[n][1]);\r\n            ctx.lineTo(w-rso[n][2],rso[n][3]);\r\n            ctx.lineTo(w-rso[n][4],rso[n][5]);\r\n            ctx.lineTo(w-rso[n][6],rso[n][7]);\r\n            ctx.lineTo(w-rso[n][0],rso[n][1]);\r\n            ctx.lineWidth = 2;\r\n            ctx.fillStyle = rso[n][8];//\"rgb(\"+Math.floor(Math.random()*255)+\",\"+Math.floor(Math.random()*255)+\",\"+Math.floor(Math.random()*255)+\")\";\r\n            ctx.fill();\r\n            ctx.closePath();\r\n            \r\n            \r\n        }\r\n        \r\n    }\r\n    \r\n    var cx = (w-carW)/2;\r\n    var cl = false, cr = false;\r\n    var car = _i(\"c1\");\r\n    var ms = 3*w/560;\r\n    function drawCar(){\r\n        if(cl) if(cx+carW+50 < w) cx+=ms;\r\n        if(cr) if(cx-50 > 0) cx-=ms;\r\n        ctx.drawImage(car,cx,h-carH,carW,carH);\r\n    }\r\n    \r\n    \r\n    var m = 0;\r\n    var intv = setInterval(function(){\r\n        try{\r\n        ctx.clearRect(0,0,w,h);\r\n        maxH+=0.5;\r\n        changedHeight = maxH*cnst1*(Math.pow(1/ratio,totalRso-1)-1);//maxH*(1-Math.pow(ratio,totalRso-5))/(1-ratio);\r\n        if(changedHeight >= totalHeight){\r\n            maxH = maxHF;\r\n            m++;\r\n        }\r\n        for(var n = 0; n < totalRso; n++){\r\n            rso[n]=rectPoints(n,h-totalHeight+changedHeight);\r\n            if(m%2==0) rso[n][8] = (n%2==0) ? \"#000\" : \"#fff\";\r\n            else rso[n][8] = (n%2==1) ? \"#000\" : \"#fff\";\r\n        }\r\n        draw();\r\n        for(var n = 0; n < trees.length; n++){\r\n            trees[n].draw();\r\n        }\r\n        \r\n        for(var n = 0; n < coins.length; n++){\r\n            coins[n].draw();\r\n        }\r\n        \r\n        for(var n = 0; n < cars.length; n++){\r\n            cars[n].draw();\r\n        }\r\n        \r\n        \r\n        drawCar();\r\n        }catch(err){\r\n            \r\n        }\r\n        \r\n    },10)\r\n    //draw();\r\n    \r\n    //Game Control\r\n    \r\n    //Touch\r\n    function getTouch(e){\r\n        e.preventDefault();\r\n        var to = e.changedTouches[0];\r\n        var ty = parseInt(to.clientY);\r\n        if(ty>(h/2)){\r\n            cl = true;\r\n        }\r\n        else{\r\n            cr = true;\r\n        }\r\n    }\r\n    function getTouchEnd(){\r\n        cl = false;\r\n        cr = false;\r\n    }\r\n    \r\n    c.removeEventListener(\"touchstart\",getTouch);\r\n    c.removeEventListener(\"touchend\",getTouchEnd);\r\n    c.addEventListener(\"touchstart\",getTouch);\r\n    c.addEventListener(\"touchend\",getTouchEnd);\r\n    //Key..\r\n\r\n\r\n    /// TODO: Change this zone to implement posenet\r\n    function getKey(e){\r\n\r\n        e.preventDefault();\r\n        var ty = e.keyCode;\r\n\r\n        // identifies the keycode and changes the direction with it\r\n        if(ty===39){\r\n            // go right\r\n            cr = false;\r\n            cl = true;\r\n        }\r\n        else if(ty===37){\r\n            // go left\r\n            cl = false;\r\n            cr = true;\r\n        }\r\n    }\r\n    function getKeyEnd(e){\r\n        var ty = e.keyCode;\r\n        if(ty === 39) cl = false;\r\n        else if(ty === 37) cr = false;\r\n    }\r\n    \r\n    document.body.removeEventListener(\"keydown\",getKey);\r\n    document.body.removeEventListener(\"keyup\",getKeyEnd);\r\n\r\n    // action performed when a key is starting or finishing pressed\r\n    document.body.addEventListener(\"keydown\",getKey);\r\n    document.body.addEventListener(\"keyup\",getKeyEnd);\r\n    /// TODO: Change this zone to implement posenet\r\n\r\n    // Steps:\r\n    // 1 listen the posenet values\r\n\r\n    // define bands with values (e.g. height*1/3 = upper band; height* 2/3 = lower band)\r\n\r\n    // check\r\n    // 2.1 if the right hand is under the band and the left hand is over it move to right\r\n    //   2.1.1. cr = false; cl = true;\r\n    //   2.1.2. if the right hand is over the lower the band or the left one is under the upper band\r\n    //     2.1.2.1. cl = false\r\n\r\n    // 2.2 if the left hand is under the band and the right hand is over it move to left\r\n    //   2.1.1. cr = true; cl = false;\r\n    //   2.1.2. if the left hand is over the lower the band or the right one is under the upper band\r\n    //     2.1.2.1. cr = false\r\n\r\n    //Accelarometre\r\n    \r\n    function driveCar(e){\r\n        var y = e.accelerationIncludingGravity.y;\r\n    \r\n        if(y > 0){\r\n            if(cx+carW+50 < w) cx += y*ms;\r\n        }\r\n        else{\r\n            if(cx-50 > 0) cx += y*ms;\r\n        }\r\n    }\r\n    \r\n    if(window.DeviceMotionEvent){\r\n        window.removeEventListener(\"devicemotion\",driveCar)\r\n            window.addEventListener(\"devicemotion\",driveCar,false)\r\n    }\r\n    //End\r\n}\r\nplay = function(){\r\n    if(loaded){\r\n        document.getElementById(\"startPage\").style.display = \"none\";\r\n        document.getElementById(\"mainContainer\").style.display = \"block\";\r\n        loadGame();\r\n    }\r\n}\r\n})();\r\n\r\n/// template event listeners\r\ndocument.getElementById('body').onload = done;\r\ndocument.getElementById('playBtn').onclick= play;\r\n"]}